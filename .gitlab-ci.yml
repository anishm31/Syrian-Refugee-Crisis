image: node

stages:
  - build
  - test

before_script:
  - npm install

build:
  stage: build
  script:
    - npm install
    - npm run build

test-jest:
  stage: test
  script:
    - npm test

gui-tests:
  image: python:3.10
  stage: test
  script:
    - pip install --upgrade pip
    - pip install --no-cache-dir -r requirements.txt
    - docker pull selenium/standalone-chrome
    - docker run -dp 4444:4444 -v /dev/shm:/dev/shm selenium/standalone-chrome
    - python gui-tests.py
 